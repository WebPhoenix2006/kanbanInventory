import{a as b,b as u,c as S,d as y,g as F,i as w,j as E,m as I,o as G,p as N}from"./chunk-HN3CKDYX.js";import{G as m,Ia as x,J as d,Ja as h,K as M,L as P,Ma as _,O as c,R as g,Y as n,Z as o,_ as s,aa as O,ba as f,ea as i,m as C,xa as v,ya as q}from"./chunk-QNAL55BY.js";function z(e,l){e&1&&(n(0,"small"),i(1,"*Username is required"),o())}function H(e,l){if(e&1&&(n(0,"div",26),c(1,z,2,0,"small",27),o()),e&2){let t,r=f();m(),g("ngIf",(t=r.loginForm.get("username"))==null||t.errors==null?null:t.errors.required)}}function W(e,l){e&1&&(n(0,"small"),i(1,"*Password is required"),o())}function J(e,l){e&1&&(n(0,"small"),i(1,"Password must be at least 6 characters."),o())}function K(e,l){if(e&1&&(n(0,"div",26),c(1,W,2,0,"small",27)(2,J,2,0,"small",27),o()),e&2){let t,r,a=f();m(),g("ngIf",(t=a.loginForm.get("password"))==null||t.errors==null?null:t.errors.required),m(),g("ngIf",(r=a.loginForm.get("password"))==null||r.errors==null?null:r.errors.minLength)}}var L=class e{constructor(l,t,r){this.fb=l;this.auth=t;this.router=r}loginForm;ngOnInit(){this.auth.isLoggedIn()&&this.router.navigate(["/user/dashboard"]),this.loginForm=this.fb.group({username:["",u.required],password:["",u.required]})}onSubmit(){if(console.log("happy man"),this.loginForm.invalid){this.loginForm.markAllAsTouched();return}console.log("Hi");let l={username:this.loginForm.value.username,password:this.loginForm.value.password};this.auth.login(l).subscribe({next:t=>{this.auth.saveToken(t.token),this.router.navigate(["user/dashboard"])},error:t=>{console.error("Login error:",t)}})}static \u0275fac=function(t){return new(t||e)(d(I),d(N),d(x))};static \u0275cmp=M({type:e,selectors:[["app-login"]],standalone:!1,decls:42,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-md-6","col-sm-12"],[1,"logo-container"],["src","assets/images/kanban_logo.png","alt","kanban-logo"],[1,"login-container"],[1,"heading"],["src","assets/images/kanban_logosmall.png","alt","kanban-logo"],[1,"form"],[3,"ngSubmit","formGroup"],["for","email"],["type","email","placeholder","Enter your username...","formControlName","username",1,"form-control"],["class","text-danger",4,"ngIf"],["type","password","placeholder","Enter your password...","formControlName","password",1,"form-control"],[1,"form-group"],[1,"remember"],["type","checkbox","id","remember"],["for","remember",1,"ms-2"],[1,"forgot"],["routerLink","/",1,"forgot-password"],[1,"submit"],["type","submit",1,"btn","btn-primary","submit-btn"],[1,"btn","btn-outline-primary","google-btn"],[1,"icon","me-2"],["src","assets/images/google-icon.png","alt","social"],["routerLink","/auth/signup"],[1,"text-danger"],[4,"ngIf"]],template:function(t,r){if(t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s(4,"img",4),o()(),n(5,"div",2)(6,"div",5)(7,"div",6),s(8,"img",7),n(9,"h1"),i(10,"Login to your account"),o(),n(11,"p"),i(12,"Welcome back! Please enter your details."),o()(),n(13,"div",8)(14,"form",9),O("ngSubmit",function(){return r.onSubmit()}),n(15,"label",10),i(16,"Email or username "),s(17,"input",11),c(18,H,2,1,"div",12),o(),n(19,"label",10),i(20,"Password "),s(21,"input",13),c(22,K,3,2,"div",12),o(),n(23,"div",14)(24,"div",15),s(25,"input",16),n(26,"label",17),i(27,"Remember for 30 days"),o()(),n(28,"div",18)(29,"a",19),i(30,"Forgot Password"),o()()(),n(31,"div",20)(32,"button",21),i(33,"Sign In"),o(),n(34,"button",22)(35,"div",23),s(36,"img",24),o(),i(37," Sign in with Google"),o()(),n(38,"p"),i(39,"Don't have an account? "),n(40,"a",25),i(41,"Sign Up"),o()()()()()()()()),t&2){let a,p;m(14),g("formGroup",r.loginForm),m(4),g("ngIf",((a=r.loginForm.get("username"))==null?null:a.touched)&&((a=r.loginForm.get("username"))==null?null:a.invalid)),m(4),g("ngIf",((p=r.loginForm.get("password"))==null?null:p.touched)&&((p=r.loginForm.get("password"))==null?null:p.invalid))}},dependencies:[v,h,F,b,S,y,w,E],styles:[".logo-container[_ngcontent-%COMP%]{padding:200px 0;display:flex;align-items:center;justify-content:center}.login-container[_ngcontent-%COMP%]{padding:200px 0;display:flex;flex-direction:column;align-items:center}.login-container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.login-container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}.login-container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:flex;width:100%;padding:0 160px;margin-top:32px}.login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;margin-bottom:20px}.login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:6px}.login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer}.login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{padding:10px;display:flex;width:100%;justify-content:center;font-weight:700;margin-top:24px}.login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:24px}.login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]})};function Q(e,l){e&1&&(n(0,"div",22),i(1," *Username is required "),o())}function X(e,l){e&1&&(n(0,"small"),i(1,"*Email is required"),o())}function Y(e,l){e&1&&(n(0,"small"),i(1," *Invalid Email format "),o())}function Z(e,l){if(e&1&&(n(0,"div",22),c(1,X,2,0,"small",23)(2,Y,2,0,"small",23),o()),e&2){let t,r,a=f();m(),g("ngIf",(t=a.signupForm.get("email"))==null||t.errors==null?null:t.errors.required),m(),g("ngIf",(r=a.signupForm.get("email"))==null||r.errors==null?null:r.errors.required)}}function $(e,l){e&1&&(n(0,"small"),i(1,"*Password is required"),o())}function nn(e,l){e&1&&(n(0,"small"),i(1,"Password must be at least 6 characters."),o())}function en(e,l){if(e&1&&(n(0,"div",22),c(1,$,2,0,"small",23)(2,nn,2,0,"small",23),o()),e&2){let t,r,a=f();m(),g("ngIf",(t=a.signupForm.get("password"))==null||t.errors==null?null:t.errors.required),m(),g("ngIf",(r=a.signupForm.get("password"))==null||r.errors==null?null:r.errors.minLength)}}var T=class e{constructor(l,t,r){this.fb=l;this.auth=t;this.router=r}signupForm;ngOnInit(){this.signupForm=this.fb.group({username:["",u.required],email:["",[u.required,u.email]],password:["",[u.required,u.minLength(6)]]})}onSubmit(){if(this.signupForm.invalid){this.signupForm.markAllAsTouched();return}let l=this.signupForm.value;this.auth.signup(l).subscribe({next:t=>{this.router.navigate(["/auth/login"])},error:t=>{console.error("Signup error:",t)}}),console.log("Form submitted:",l),alert("Sign up successful")}static \u0275fac=function(t){return new(t||e)(d(I),d(N),d(x))};static \u0275cmp=M({type:e,selectors:[["app-signup"]],standalone:!1,decls:46,vars:4,consts:[[1,"container"],[1,"row"],[1,"col-md-6"],[1,"logo-container"],["src","assets/images/kanban_logo.png","alt","kanban-logo"],[1,"login-container"],[1,"heading"],["src","assets/images/kanban_logosmall.png","alt","kanban-logo"],[1,"form"],[3,"ngSubmit","formGroup"],["for","name"],["type","text","placeholder","Enter your username...","formControlName","username",1,"form-control"],["class","text-danger",4,"ngIf"],["for","email"],["type","email","placeholder","Enter your email...","formControlName","email",1,"form-control"],["type","password","placeholder","Enter your password...","formControlName","password",1,"form-control"],[1,"submit"],[1,"btn","btn-primary","submit-btn"],[1,"btn","btn-outline-primary","google-btn"],[1,"icon","me-2"],["src","assets/images/google-icon.png","alt","social"],["routerLink","/auth/login"],[1,"text-danger"],[4,"ngIf"]],template:function(t,r){if(t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s(4,"img",4),o()(),n(5,"div",2)(6,"div",5)(7,"div",6),s(8,"img",7),n(9,"h1"),i(10,"Create an account"),o(),n(11,"p"),i(12,"Start your 30-day free trial."),o()(),n(13,"div",8)(14,"form",9),O("ngSubmit",function(){return r.onSubmit()}),n(15,"label",10),i(16,"Username"),n(17,"span"),i(18,"*"),o(),s(19,"input",11),c(20,Q,2,0,"div",12),o(),n(21,"label",13),i(22,"Email"),n(23,"span"),i(24,"*"),o(),s(25,"input",14),c(26,Z,3,2,"div",12),o(),n(27,"label",13),i(28,"Password"),n(29,"span"),i(30,"*"),o(),s(31,"input",15),c(32,en,3,2,"div",12),n(33,"p"),i(34,"Must be at least 6 characters."),o()(),n(35,"div",16)(36,"button",17),i(37,"Get Started"),o(),n(38,"button",18)(39,"div",19),s(40,"img",20),o(),i(41," Sign Up with Google "),o()(),n(42,"p"),i(43," Already have an account? "),n(44,"a",21),i(45,"Log In"),o()()()()()()()()),t&2){let a,p;m(14),g("formGroup",r.signupForm),m(6),g("ngIf",r.signupForm.get("username").touched&&r.signupForm.get("username").invalid),m(6),g("ngIf",((a=r.signupForm.get("email"))==null?null:a.touched)&&((a=r.signupForm.get("email"))==null?null:a.invalid)),m(6),g("ngIf",((p=r.signupForm.get("password"))==null?null:p.touched)&&((p=r.signupForm.get("password"))==null?null:p.invalid))}},dependencies:[v,h,F,b,S,y,w,E],styles:[".logo-container[_ngcontent-%COMP%]{padding:200px 0;display:flex;align-items:center;justify-content:center}.login-container[_ngcontent-%COMP%]{padding:200px 0;display:flex;flex-direction:column;align-items:center}.login-container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.login-container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px}.login-container[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:flex;width:100%;padding:0 160px;margin-top:32px}.login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;margin-bottom:20px}.login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:6px}.login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer}.login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .google-btn[_ngcontent-%COMP%]{padding:10px;display:flex;width:100%;justify-content:center;font-weight:700;margin-top:24px}.login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:24px}.login-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]})};var tn=[{path:"login",component:L},{path:"signup",component:T},{path:"",redirectTo:"login",pathMatch:"full"}],k=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=P({type:e});static \u0275inj=C({imports:[_.forChild(tn),_]})};var R=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=P({type:e});static \u0275inj=C({imports:[q,k,_,G]})};export{R as AuthModule};
